# SecureApp

A standalone desktop application for secure management of confidential trading algorithms and project files with robust authentication and encryption.

[![AI Enforcement](https://img.shields.io/badge/Cursor-Enforced-blue?logo=github)](./.cursor/config.json)
[![Engineering Standards](https://img.shields.io/badge/Standards-Revision%203.0-brightgreen)](./ENGINEERING_STANDARDS_MASTER.md)

### üß≠ Engineering Standards

This project adheres to the [Engineering Standards Master Document](./ENGINEERING_STANDARDS_MASTER.md),
maintained by **Mike Muryn (Revision 3.0, October 2025)**.
All code must comply with its guidelines for formatting, testing, documentation, and CI/CD enforcement.

### ü§ñ AI Development Assistant (`.cursor/config.json`)

This repository is configured for use with the Cursor AI coding assistant.

- The file [.cursor/config.json](.cursor/config.json) defines how AI is allowed to generate or modify code in this repo.
- All AI-generated code must follow [ENGINEERING_STANDARDS_MASTER.md](./ENGINEERING_STANDARDS_MASTER.md), including:
    - No secrets, tokens, API keys, SMTP creds, etc. committed to source. Use `.env` or system keyring.
    - All security- and credential-related logic must live in dedicated secrets/credential management modules, not scattered through the codebase.
    - Any UI, popup, or OS integration must detect headless / non-interactive environments and fall back to safe logging instead of crashing.
    - Logging must include ISO timestamps, explicit log levels, and enough context to audit access attempts.
    - For Python code: PEP 8, full type hints, Google-style docstrings, `mypy --strict`, and tests with ‚â•95% coverage.
    - For frontend / interface code (if present): keep components small, document props/inputs, avoid storing secrets client-side.

Usage:

1. Keep `.cursor/config.json` in the repo root.
2. In Cursor, tell the model to ‚Äúfollow .cursor/config.json and ENGINEERING_STANDARDS_MASTER.md for all changes.‚Äù
3. Do not merge AI-generated code that breaks these requirements.

### üó∫Ô∏è Development Roadmap

See [ROADMAP.md](./ROADMAP.md) for the complete development plan, feature priorities, and future enhancements.

## üîê Security Features

- **Strong Authentication**: Password-based login with account lockout protection
- **File Encryption**: AES-256 encryption for all confidential files
- **Session Management**: Secure session handling with automatic timeouts
- **Audit Logging**: Comprehensive logging of all user activities
- **Role-Based Access**: Admin, User, and Read-only permission levels
- **Secure Storage**: Encrypted local database for user and file management

## üöÄ Quick Start

### Prerequisites

- Python 3.8 or higher
- pip package manager

### Installation

1. **Clone or download the application**:

    ```bash
    cd SecureApp
    ```

2. **Install dependencies**:

    ```bash
    pip install -r requirements.txt
    ```

3. **Run the application**:

    ```bash
    python main.py
    ```

4. **Read the User Guide** (recommended for new users):
   See [docs/USER_GUIDE.md](./docs/USER_GUIDE.md) for comprehensive usage instructions.

### First-Run Admin Bootstrap

- On first run, an admin user is bootstrapped.
- Configure bootstrap values via environment variables (see `.env.example` section below) or change the admin password immediately after login.

Project Structure

```
SecureApp/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ auth/           # Authentication and session management
‚îÇ   ‚îú‚îÄ‚îÄ encryption/     # File encryption/decryption
‚îÇ   ‚îú‚îÄ‚îÄ models/         # Database models
‚îÇ   ‚îú‚îÄ‚îÄ utils/          # Utilities and audit logging
‚îÇ   ‚îî‚îÄ‚îÄ views/          # UI components (future)
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ settings.py     # Application configuration
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ encrypted/      # Encrypted files storage
‚îÇ   ‚îî‚îÄ‚îÄ database/       # SQLite database
‚îú‚îÄ‚îÄ logs/               # Audit logs
‚îú‚îÄ‚îÄ temp/               # Temporary files (auto-cleaned)
‚îú‚îÄ‚îÄ main.py            # Application entry point
‚îú‚îÄ‚îÄ requirements.txt   # Python dependencies
‚îî‚îÄ‚îÄ README.md         # This file
```

#### AI / Cursor Setup

This repo ships with `.cursor/config.json` to control how AI tools (like Cursor) write code here.

- Any AI-suggested code that touches credentials, login flow, system prompts, popup dialogs, or alert delivery MUST:
    - avoid hardcoded secrets,
    - include structured logging for access/usage,
    - degrade safely in headless / server environments,
    - and follow the security expectations in `ENGINEERING_STANDARDS_MASTER.md`.

Nothing generated by AI is exempt from review. Treat AI output like a junior contractor‚Äôs PR.

## üîß Features

### File Management

- **Upload**: Encrypt and store confidential files
- **Download**: Decrypt and access files with password
- **Delete**: Remove files (owner or admin only)
- **List**: View all accessible files with metadata

### User Management (Admin Only)

- **Create Users**: Add new users with different roles
- **Role Assignment**: Admin, User, or Read-only permissions
- **Password Management**: Strong password requirements

### Security Monitoring (Admin Only)

- **Audit Logs**: View all user activities and security events
- **Failed Login Tracking**: Monitor authentication attempts
- **File Access Logging**: Track all file operations

## üõ°Ô∏è Security Implementation

### Encryption

- **Algorithm**: AES-256 encryption
- **Key Derivation**: PBKDF2 with 100,000 iterations
- **Salt**: Random 16-byte salt per file
- **Password**: User password required for encryption/decryption

### Authentication

- **Password Hashing**: bcrypt with salt
- **Session Management**: Secure tokens with timeout
- **Account Lockout**: 5 failed attempts = 15-minute lockout
- **Password Requirements**: 8+ chars, mixed case, numbers, special chars

### Database Security

- **SQLite**: Local encrypted database
- **User Isolation**: Users can only access their own files
- **Admin Override**: Administrators have full access
- **Audit Trail**: All operations logged with timestamps

## ‚öôÔ∏è Configuration

Edit `config/settings.py` to customize:

- **Session timeout** (default: 30 minutes)
- **File size limits** (default: 100MB)
- **Password requirements**
- **Logging levels**
- **Database location**

You can also override configuration via environment variables (recommended). See `.env.example` for common variables.

### Environment Variables

- `LOG_LEVEL` (default: INFO)
- `DATA_DIR` (default: ./data)
- `ENCRYPTED_DIR` (default: ./data/encrypted)
- `DATABASE_DIR` (default: ./data/database)
- `LOGS_DIR` (default: ./logs)
- `SESSION_TIMEOUT` (seconds, default: 1800)
- `MAX_LOGIN_ATTEMPTS` (default: 5)
- `LOCKOUT_DURATION` (seconds, default: 900)
- `BOOTSTRAP_ADMIN_USERNAME` (default: admin)
- `BOOTSTRAP_ADMIN_EMAIL` (default: admin@example.com)
- `BOOTSTRAP_ADMIN_PASSWORD` (one-time strong password; if empty, prompt on first run)

## üíª Command Line Interface (CLI)

SecureApp provides a CLI for automation and scripting:

```bash
# List files
python cli.py list --username youruser

# Upload a file
python cli.py upload --username youruser --file /path/to/file.txt

# Download a file
python cli.py download --username youruser --file-id 123 --output /path/to/save

# Delete a file
python cli.py delete --username youruser --file-id 123 --yes

# Create backup (admin only)
python cli.py backup --username admin --output /backup/path
```

For more CLI options, run `python cli.py --help` or see [docs/USER_GUIDE.md](./docs/USER_GUIDE.md).

## üîç Usage Examples

### Uploading a File

1. Login to the application
2. Go to "File Management" tab
3. Click "Select File to Upload"
4. Choose your confidential file
5. Enter your password for encryption
6. File is encrypted and stored securely

### Downloading a File

1. Select a file from the list
2. Click "Download Selected"
3. Enter your password for decryption
4. Choose save location
5. File is decrypted and saved

### Creating Users (Admin)

1. Login as admin
2. Go to "User Management" tab
3. Fill in user details
4. Select role (user/admin/readonly)
5. Click "Create User"

## üö® Security Best Practices

1. **Change Default Password**: Immediately change admin password
2. **Strong Passwords**: Use complex passwords for all accounts
3. **Regular Backups**: Automated daily backups are enabled by default (see `config/settings.py`)
4. **Secure Environment**: Run on trusted, secure systems only
5. **Monitor Logs**: Regularly check audit logs for suspicious activity

## üìö Documentation

- **[User Guide](./docs/USER_GUIDE.md)**: Comprehensive guide for end users
- **[Architecture](./ARCHITECTURE.md)**: Technical architecture documentation
- **[Roadmap](./ROADMAP.md)**: Development roadmap and feature plans
- **[Contributing](./CONTRIBUTING.md)**: Guidelines for contributors

## üêõ Troubleshooting

### Common Issues

**"Database initialization failed"**

- Ensure write permissions in the application directory
- Check if SQLite is properly installed

**"Login failed"**

- Verify username and password
- Check if account is locked (wait 15 minutes)
- Ensure caps lock is off

**"File upload failed"**

- Check file size (max 100MB)
- Ensure sufficient disk space
- Verify file permissions

### Log Files

- **Application Log**: `logs/SecureApp.log`
- **Audit Log**: Database audit_logs table
- **Error Logs**: Check console output

## üìù License

This application is provided as-is for educational and development purposes. Use at your own risk.

## ü§ù Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

## ‚ö†Ô∏è Disclaimer

This software is provided for educational purposes only. The authors are not responsible for any data loss or security breaches. Always maintain proper backups and follow security best practices.
